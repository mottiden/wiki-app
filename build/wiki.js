"use strict";function openSearch(){searchWin.classList.value="search",homeWin.classList.value="hidden"}function closeSearch(){searchWin.classList.value="hidden",homeWin.classList.value="page",closeResults()}function searchWiki(e){var s="https://crossorigin.me/https://en.wikipedia.org/w/api.php?action=opensearch&search="+e+"&limit="+numberResults+"&namespace=0&format=json";loader.classList.value="loader",closeResults(),fetch(s).then(function(e){return e.json()}).then(function(e){return visualizeResults(e)})}function visualizeResults(e){loader.classList.value="hidden";for(var s=[],n=1;n<numberResults;n++)s.push('<li class="entry">\n\t\t<span class="entry-title">'+e[1][n]+'</span>\n\t\t<span class="entry-description">'+e[2][n]+'</span>\n\t\t<span class="entry-link"><a href='+e[3][n]+' title="">More</a></span>\n\t\t</li>');resWin.children[1].innerHTML=s.join(""),resWin.classList.value="results"}function closeResults(){resWin.classList.value="hidden"}var searchBtn=document.querySelector(".btn--search"),closeBtn=document.querySelector(".btn--search-close"),searchWin=document.querySelector(".search-div"),homeWin=document.querySelector(".page-div"),resWin=document.querySelector(".res-div"),input=document.querySelector(".search__input"),form=document.querySelector(".search__form"),loader=document.querySelector(".loader-div"),numberResults=20;document.addEventListener("keydown",function(e){13==e.keyCode&&(searchWiki(e.target.value),input.value="",e.preventDefault())}),document.addEventListener("keyup",function(e){27==e.keyCode&&(closeSearch(),input.value="")}),searchBtn.addEventListener("click",openSearch),closeBtn.addEventListener("click",closeSearch);